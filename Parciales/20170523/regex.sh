#Recibimos un id de comuna por parametro y mostrar por salida estandar la cantidad de deudores con deuda superior a
# 9532,01 para marzo de 2017

comuna="$1";

# 9532,01
r1="\(9532,0[2-9]\)" # 9532,02 - 9532,09
r2="\(9532,[1-9][0-9]\)" # 9532,10 - 9532,99
r3="\(953[3-9],[0-9][0-9]\)" # 9533,00 - 9539,99
r4="\(95[4-9][0-9],[0-9][0-9]\)" # 9540,00 - 9599,99
r5="\(9[6-9][0-9][0-9],[0-9][0-9]\)" # 9600,00 - 9999,99
r6="\([1-9]\{1,\}[0-9][0-9][0-9][0-9],[0-9][0-9]\)" # 10000,00 - 9999...99,99

mayores="\($r1\|$r2\|$r3\|$r4\|$r5\|$r6\)";

res=$(grep "^[^;]*;[^;]*;[^;]*;$mayores;.*" "ABL-$comuna-201703.txt" | wc -l);

echo "$res";


